
{% extends "sheduler/starter.html" %}
{% block content-header %}
      <h1>
        Doctors
      </h1>
{% endblock content-header %}
{% block container %}
    <section class="content">
        <div class="row">
            <div class="col-sm-6">
              <!-- Horizontal Form -->
              <div class="box box-info ">
                <!-- /.box-header -->
                <div class="box-header with-border">
                  <h3 class="box-title">Doctors List</h3>
                  <a id="btn-delete" class="btn bg-red pull-right" data-toggle="modal" data-target="#DeleteModal">
                    <i class="fa fa-trash"></i> Delete
                  </a>
                  <a id="btn-save" class="btn bg-green pull-right" data-toggle="modal" data-target="#AddModal">
                    <i class="fa fa-plus"></i> Add
                  </a>
                </div>
                <!-- form start -->
                <form class="form-horizontal" id="form-order">
                {% csrf_token %}
                  <div class="box-body">
                    <div class="start-template">
                      <table id="tableDocotors"
                        data-toggle="table"
                        data-classes="table table-hover table-condensed table-responsive"
                        data-search="true"
                        data-show-refresh="true"
                        data-sort-name="id"
                        data-sort-order="asc"
                        data-url="/sheduler/doctors/"
                        data-height=500
                        data-pagination="true">
<!--                           <thead>
                            <tr>
                              <th data-align="center" data-field="id" data-sortable="true" data-formatter="identifierFormatter">Code</th>
                              <th data-align="center" data-field="name" data-sortable="true" data-editable="true">Name</th>
                            </tr>
                          </thead> -->
                       </table>
                    </div>
                  </div>
                  <!-- /.box-body " -->
                  <div class="box-footer">
                  </div>
                  <!-- /.box-footer -->
                </form>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="box box-info">
                <div class="box-header with-border">
                  <h3 class="box-title">Add Doctor</h3>
                </div>
                <!-- /.box-header -->
                <!-- form start -->
                <form class="form-horizontal" id="form-order">
                {% csrf_token %}
                  <div class="box-body">
                    <div class="form-group">
                      <label for="inputPatient" class="col-sm-3 control-label">Doctor Name</label>
                      <div class="col-sm-6">
                            <input id="inputPatient" type="text" class="form-control" placeholder="Doctor Name">
                      </div>
                    </div>
                  </div>
                  <!-- /.box-body " -->
                  <div class="box-footer">
                    <a id="btn-delete" class="btn btn-app bg-red pull-right" data-toggle="modal" data-target="#DeleteModal">
                      <i class="fa fa-trash"></i>Delete
                    </a>
                    <a id="btn-save" class="btn btn-app bg-green pull-right" data-toggle="modal" data-target="#SaveModal">
                      <i class="fa fa-check-circle"></i>Add
                    </a>
                  </div>
                  <!-- /.box-footer -->
                </form>
              </div>
            </div>
        </div>
          <!-- /.row -->
        <div class="modal fade " id="AddModal" tabindex="-1" role="dialog" aria-labelledby="AddModal">
          <div class="modal-dialog modal-sm " role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="AddModal">Doctor</h4>
              </div>
              <div class="modal-body">
                 Delete Order?
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-outline" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-outline" onclick="return deleteOrder();">Delete Order</button>
              </div>
            </div>
          </div>
        </div>
    </section>
{% endblock container %}
{% block extra_js %}
    <script type="text/javascript">

        var $table = $('#tableDocotors');
        // $.fn.editable.defaults.mode = 'inline';
        $.fn.editable.defaults.ajaxOptions = {type: "PUT"};
        $.fn.editable.defaults.url = '/sheduler/doctor/';
        $table.bootstrapTable({
           columns: [
                [
                    {
                        title: 'Code',
                        field: 'id',
                        // rowspan: 2,
                        align: 'center',
                        sortable: true
                        // valign: 'middle'
                    }, {
                        title: 'Name',
                        field: 'name',
                        // rowspan: 2,
                        align: 'center',
                        // valign: 'middle',
                        sortable: true,
                        editable:  {
                            type: 'text',
                            title: 'Doctor Name',
                            // url: '/sheduler/doctors/1/',
                            params: function(params) {  //params already contain `name`, `value` and `pk`
                              var data = {};
                              data['id'] = params.pk;
                              data[params.name] = params.value;
                              return data;
                            }
                          }
                    }
                  ]
              ]
            });

        function identifierFormatter(value, row, index) {
            return [
                    '<a class="editable data-editable" title="formdoctor">',
                        value,
                    '</a>'].join('');
        }
    </script>
{% endblock extra_js %}